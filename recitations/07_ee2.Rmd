---
title: "Recitation 7 - EE2"
author: "Eugene Tan"
output: ioslides_presentation 
---
```{r echo = FALSE}
library(data.table)
```

## Logistics
* git help - happy to help you trouble shoot and set up using git for PS3
* how is ee2 going?
* office hours after recitation until finish instead of Thursday 10-11am.

## Grading Extra Credit (TBC and subject to change)
* 120 extra points up for grabs for the whole class
* If you're the only group that do the work, you get the whole 120% added to your grade
* If 2 groups finish it and do well - it's 60% each
* If all 12 groups finish - only worth 10% each.

## Contents
* Today is going to be quite assorted, random things that may be helpful
* Rmd formatting

### EE2 - Code comments
* Don't ever ever edit the files in excel - I only test it on the base code. 
* Written answers are as important as your R code. 
* Please use more pseudocode/tell me what you are doing!

## EE2 - What to send me 
* Submit the .Rmd and the .html
* I basically run the code in .Rmd.
* but will read the html for written comments

## EE2 - Formatting comments
* I didn't penalize formatting, I will for EE2. 
* Use all the tools of the .Rmd
  * Use header sections ## to denote questions
  * Use subsections ### to denote subsections
  * **Bold** either the questions or the answers to differentiate them
* Label your graphs
* Decide what to show in blobs:

## Formatting Rmd blobs

* `include = FALSE` prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.
* `echo = FALSE` prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.
# `message = FALSE` prevents messages that are generated by code from appearing in the finished file.
# `warning = FALSE` prevents warnings that are generated by code from appearing in the finished.

```{r echo=FALSE, warning = TRUE}
library(data.table)
# your code here
```

## Code and example
```
## Part 1
### Part 1a)
**Question - What is the heat rate defined as?**  Your answer here
```{r echo = TRUE}
# your code here.
plot(cars)
```



```
## Part 1
### Part 1a)
**Question - What is the heat rate defined as?**  Your answer here
```{r echo = TRUE}
# your code here.
plot(cars)
```

## Some energy concepts
* Summer capacity MW
* Heat Rate btu/mwh

## What technology to use?
* Version Control - git
* Dealing with text data - Regular expressions
* Dealing with date data - lubridate
* Graphing - ggplot
* Fixed effect regressions - lfe::felm
* Heteroskedasticity robust regressions - estimatr::lm_robust

## Regular Expressions
Hint - you may want to use gsub to parse numbers correctly to substitute "100,000" to "100000" before converting to numeric.
```{r echo = TRUE}
fname <- "../homeworks/hw2/data/ercot2018.csv"
dt <- fread(fname)
colnames(dt)
# Index search
grep("MW|Plant Code|Year|Month|Factor|Buoys", colnames(dt), ignore.case=T)

# Boolean search

cols <- colnames(dt)[grepl("MW|Plant Code|Year|Month|Factor|Buoys", colnames(dt), ignore.case=T)]
dt[,,.SDcols = cols]



# First match substitution
sub("MW", "GW", colnames(dt), ignore.case=T)
# All matches substitution
gsub("MW", "GW", colnames(dt), ignore.case=T)
```
## Regular Expressions

![](../img/regular_expressions.png)

## Regex One - flip classrrom
[RegexOne Tutorial](https://regexone.com/)

## Visualization presentation if there's time



